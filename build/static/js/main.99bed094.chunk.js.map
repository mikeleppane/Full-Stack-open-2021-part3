{"version":3,"sources":["components/Button.js","components/ShowPersons.js","components/PhonebookFilter.js","components/PersonForm.js","services/personService.js","components/Notification.js","App.js","index.js"],"names":["Button","text","onButtonClick","style","margin","onClick","filterPersons","persons","filter","person","name","toLowerCase","includes","number","map","ShowPersons","onDeleteHandler","PhonebookFilter","onNewFilterChange","value","onChange","PersonForm","onSubmitHandler","handleNewPersonChange","handleNewNumberChange","onSubmit","type","axiosInstance","axios","create","baseURL","timeout","get","then","response","data","newObject","post","id","put","delete","notificationStyle","color","backGround","fontSize","borderStyle","borderWidth","borderRadius","padding","marginBottom","Notification","message","usedStyle","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notification","setNotification","useEffect","personService","allPersons","catch","error","console","log","event","target","preventDefault","newPerson","personInDB","find","window","confirm","changePerson","returnedPerson","setTimeout","concat","alert","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.99bed094.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Button = ({ text, onButtonClick }) => {\n  return (\n    <button style={{ margin: \"5px\" }} onClick={onButtonClick}>\n      {text}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport Button from \"./Button\";\n\nconst filterPersons = (persons, filter) => {\n  return persons\n    .filter(\n      (person) =>\n        person.name.toLowerCase().includes(filter.toLowerCase()) ||\n        person.number.toLowerCase().includes(filter.toLowerCase())\n    )\n    .map((person) => (\n      <p key={person.name}>\n        {person.name} {person.number}\n      </p>\n    ));\n};\n\nconst ShowPersons = ({ persons, filter, onDeleteHandler }) => {\n  return (\n    <div>\n      {filter ? (\n        <div>{filterPersons(persons, filter)}</div>\n      ) : (\n        <div>\n          {persons.map((person) => (\n            <div key={person.name}>\n              <p>\n                {person.name} {person.number}\n                <Button\n                  text={\"delete\"}\n                  onButtonClick={() => onDeleteHandler(person)}\n                />\n              </p>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ShowPersons;\n","import React from \"react\";\n\nconst PhonebookFilter = ({ name, onNewFilterChange }) => {\n  return (\n    <div>\n      <form>\n        <div>\n          filter shown with: <input value={name} onChange={onNewFilterChange} />\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PhonebookFilter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  onSubmitHandler,\n  name,\n  handleNewPersonChange,\n  number,\n  handleNewNumberChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={onSubmitHandler}>\n        <div>\n          name: <input value={name} onChange={handleNewPersonChange} />\n        </div>\n        <div>\n          number: <input value={number} onChange={handleNewNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\n\nconst personDBURL = \"http://localhost:3001/api\";\nconst axiosInstance = axios.create({\n  baseURL: personDBURL,\n  timeout: 5000,\n});\n\nconst getAll = () => {\n  const request = axiosInstance.get(\"/persons\");\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axiosInstance.post(\"/persons\", newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axiosInstance.put(`/persons/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axiosInstance.delete(`/persons/${id}`);\n  return request.then();\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n};\n","import React from \"react\";\n\nconst notificationStyle = {\n  color: \"green\",\n  backGround: \"lightgrey\",\n  fontSize: \"20px\",\n  borderStyle: \"solid\",\n  borderWidth: \"3px\",\n  borderRadius: \"5px\",\n  padding: \"10px\",\n  marginBottom: \"10px\",\n};\n\nconst Notification = ({ message, type }) => {\n  if (!message) {\n    return null;\n  }\n  let usedStyle = {};\n  if (type === \"success\") {\n    usedStyle = { ...notificationStyle, color: \"green\" };\n  } else if (type === \"error\") {\n    usedStyle = { ...notificationStyle, color: \"red\" };\n  }\n  if (usedStyle) {\n    return <div style={usedStyle}>{message}</div>;\n  }\n  return null;\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from \"react\";\nimport ShowPersons from \"./components/ShowPersons\";\nimport PhonebookFilter from \"./components/PhonebookFilter\";\nimport PersonForm from \"./components/PersonForm\";\nimport personService from \"./services/personService\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState({ type: \"\", message: \"\" });\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((allPersons) => {\n        setPersons(allPersons);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const isNameAndNumberFilled = newName && newNumber;\n\n    if (isNameAndNumberFilled) {\n      const newPerson = { name: newName, number: newNumber };\n      const personInDB = persons.find((person) => person.name === newName);\n      const shouldUpdateExistingPerson =\n        personInDB && newNumber !== personInDB.number;\n      if (shouldUpdateExistingPerson) {\n        if (\n          window.confirm(\n            `${personInDB.name} is already added to phonebook, replace the old number with a new one?`\n          )\n        ) {\n          const changePerson = { ...personInDB, number: newNumber };\n          personService\n            .update(personInDB.id, changePerson)\n            .then((returnedPerson) => {\n              setNotification({\n                type: \"success\",\n                message: `Changed ${changePerson.name} number`,\n              });\n              setTimeout(() => {\n                setNotification({\n                  type: null,\n                  message: null,\n                });\n              }, 5000);\n              setPersons(\n                persons.map((person) =>\n                  personInDB.id !== person.id ? person : returnedPerson\n                )\n              );\n            })\n            .catch((error) => {\n              setNotification({\n                type: \"error\",\n                message: `The person ${changePerson.name} was already deleted from server`,\n              });\n              setTimeout(() => {\n                setNotification({\n                  type: null,\n                  message: null,\n                });\n              }, 5000);\n              console.log(error);\n            });\n        }\n      }\n      if (!personInDB) {\n        personService\n          .create(newPerson)\n          .then((returnedPerson) => {\n            setNotification({\n              type: \"success\",\n              message: `Added ${newPerson.name}`,\n            });\n            setTimeout(() => {\n              setNotification({\n                type: null,\n                message: null,\n              });\n            }, 5000);\n            setPersons(persons.concat(returnedPerson));\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    } else {\n      window.alert(\"Please fill both fields for name and number.\");\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const removePerson = (person) => {\n    if (window.confirm(`Do you want to delete ${person.name}?`)) {\n      personService\n        .remove(person.id)\n        .then(() => {\n          setNotification({\n            type: \"success\",\n            message: `Deleted ${person.name}`,\n          });\n          setTimeout(() => {\n            setNotification({\n              type: null,\n              message: null,\n            });\n          }, 5000);\n          setPersons(persons.filter((p) => p.id !== person.id));\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n\n  const handleNewPersonChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification.message} type={notification.type} />\n      <PhonebookFilter name={filter} onNewFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm\n        onSubmitHandler={addPerson}\n        name={newName}\n        handleNewPersonChange={handleNewPersonChange}\n        number={newNumber}\n        handleNewNumberChange={handleNewNumberChange}\n      />\n      <h3>Numbers</h3>\n      <ShowPersons\n        persons={persons}\n        filter={filter}\n        onDeleteHandler={removePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}